# R 語言統計工具入門：用 AI 學會做臨床研究統計

---

# 第一部分：你今天就會寫程式（40 分鐘）

## 封面

- **R 語言統計工具入門**
- 用 AI 學會做臨床研究統計
- 講師：【林協霆】
- 日期：【2025/12/05】

## 今天結束時，你會做出這個

- 【展示成果截圖：Table 1 + 盒狀圖】
- 而且你不需要「學會」任何語法。

## 這堂課的玩法

- 我給你一個「任務」
- 你把任務描述貼給 AI（ChatGPT / Claude）
- AI 給你程式碼
- 你貼到 RStudio / Antigravity 執行
- 我們一起看結果、理解發生了什麼
- **你的工作是「問對問題」，不是「寫對程式」。**

## 任務 1 — 你的第一個程式

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我完全沒學過 R 語言。請給我一段最簡單的 R 程式碼，讓我可以畫出一個有 5 根柱子的長條圖，每根柱子的高度分別是 10、25、15、30、20。請給我可以直接複製貼上執行的程式碼。

- ⏱️ 3 分鐘後，你應該會在 RStudio / Antigravity 看到一張圖。

## 任務 2 — 發生了什麼事？

- 📋 **複製這段話，貼給 AI：**

**Prompt**

請用「教小學生」的方式，解釋你剛剛給我的那段 R 程式碼。每一行在做什麼？什麼是「變數」？什麼是「函數」？

- 🎯 目標：不用背，但要大概知道 AI 給你的東西是什麼意思。

## 任務 3 — 當程式出錯時

- 📋 **如果剛剛有錯誤訊息，複製錯誤訊息，加上這段話貼給 AI：**

**Prompt**

我在 RStudio / Antigravity 執行你給的程式碼，出現這個錯誤：
【貼上錯誤訊息】
請告訴我這是什麼意思，以及怎麼修正。

- 🎯 記住：錯誤訊息是線索，不是你的錯。

## 任務 4 — 認識套件

- 📋 **複製這段話，貼給 AI：**

**Prompt**

R 語言裡面的「套件」(package) 是什麼？可以用「手機 App」來比喻嗎？另外，`library()` 這個指令是在做什麼？

## 任務 5 — 安裝我們需要的工具

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我要在 R 裡面使用 ggplot2、gtsummary、dplyr 這三個套件。請給我安裝這些套件的程式碼，以及安裝完之後怎麼載入它們。

- ⏱️ 安裝可能需要 2-3 分鐘，這是正常的。

---

# 第二部分：讀取你的資料（20 分鐘）

## 任務 6 — 讀取 CSV 檔案

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我有一個 CSV 檔案叫做 patient_data.csv，放在我的桌面。我正在用 RStudio / Antigravity。請告訴我：

1. 怎麼讀取這個檔案到 R 裡面
2. 怎麼看前幾筆資料確認有讀成功
請給我可以直接執行的程式碼。

## 任務 7 — 認識你的資料

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我已經把資料讀進來了，存在一個叫做 `my_data` 的變數。請給我程式碼，讓我可以：

1. 看這個資料有幾列幾欄
2. 看每個欄位的基本統計（平均、最大、最小等）
3. 看每個欄位是什麼資料類型（數字、文字等）

## 任務 8 — 理解你看到的東西

- 📋 **把 `summary(my_data)` 的輸出複製起來，加上這段話貼給 AI：**

**Prompt**

這是我的資料摘要，請幫我解讀每個欄位的意義，以及有沒有什麼需要注意的地方（例如遺漏值、異常值）：
【貼上 summary 輸出】

---

# ☕ 休息 10 分鐘

---

# 第三部分：產出你的 Table 1（40 分鐘）

## 任務 9 — Table 1 是什麼？

- 📋 **複製這段話，貼給 AI：**

**Prompt**

在醫學論文裡面，Table 1 通常是什麼？它的目的是什麼？裡面通常會放哪些東西？

## 任務 10 — 你的第一個 Table 1

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我有一個 R 資料框叫做 `my_data`，裡面有這些欄位：

- treatment：治療組別（A 或 B）
- age：年齡
- gender：性別（M 或 F）
- los：住院天數

請用 gtsummary 套件幫我做一個 Table 1，依照 treatment 分組，顯示其他變數的描述性統計。請給我可以直接執行的程式碼。

## 任務 11 — 加上統計檢定

- 📋 **複製這段話，貼給 AI：**

**Prompt**

剛剛的 Table 1 很棒。請幫我加上 p-value，讓我可以看出兩組之間有沒有統計顯著差異。

## 任務 12 — 看懂 gtsummary 的選擇

- 📋 **複製這段話，貼給 AI：**

**Prompt**

gtsummary 在計算 p-value 的時候，是怎麼決定要用什麼統計方法的？例如，什麼時候用 t-test、什麼時候用 Wilcoxon、什麼時候用卡方檢定？

## 任務 13 — 客製化你的表格

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我想要修改我的 gtsummary 表格：

1. 連續變數顯示「平均值 ± 標準差」而不是中位數
2. 把欄位名稱改成中文（age → 年齡、gender → 性別、los → 住院天數）
3. p-value 如果小於 0.05 就用粗體標示

請修改我的程式碼。

## 任務 14 — 匯出你的表格

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我做好了一個 gtsummary 的表格，存在變數 `my_table` 裡面。我想要把它輸出成 Word 檔案，方便貼到我的論文。請給我程式碼。

## 實作挑戰 ⚡

- 用你自己的話問 AI：

**Prompt**

我的資料有 _______ 欄位，我想要看 _______ 分組的比較...

- 🎯 目標：產出一個你自己研究可能會用到的 Table 1
- ⏱️ 10 分鐘

---

# 第四部分：畫出論文等級的圖（40 分鐘）

## 任務 15 — 第一個盒狀圖

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我有一個資料框 `my_data`，裡面有 treatment（A 或 B 兩組）和 los（住院天數）。請用 ggplot2 畫一個盒狀圖，比較兩組的住院天數分佈。

## 任務 16 — 讓圖變專業

- 📋 **複製這段話，貼給 AI：**

**Prompt**

請幫我美化這個盒狀圖：

1. 加上標題「兩組治療的住院天數比較」
2. X 軸標籤改成「治療組別」，Y 軸改成「住院天數（天）」
3. 兩組用不同顏色（藍色和橘色）
4. 使用簡潔的主題風格
5. 不要顯示圖例（因為 X 軸已經說明了）

## 任務 17 — 加上資料點

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我想在盒狀圖上面疊加個別的資料點，讓讀者可以看到實際的分佈。但資料點不要完全重疊，要有一點水平的隨機散開。請修改程式碼。

## 任務 18 — 其他類型的圖

- 📋 **選一個你有興趣的，貼給 AI：**

**選項 A — 長條圖：**

**Prompt**

請用 ggplot2 畫一個長條圖，顯示 my_data 裡面 gender 的人數分佈。

**選項 B — 散佈圖：**

**Prompt**

請用 ggplot2 畫一個散佈圖，X 軸是 age，Y 軸是 los，我想看年齡和住院天數有沒有關係。

**選項 C — 直方圖：**

**Prompt**

請用 ggplot2 畫一個直方圖，顯示 los 的分佈。

## 任務 19 — 存檔你的圖

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我畫好了一張 ggplot2 的圖，想要存成 PNG 檔案，解析度要夠高可以放在論文裡（300 dpi），大小大約是 8 x 6 英吋。請給我存檔的程式碼。

## 實作挑戰 ⚡

- 用你自己的話問 AI，畫一張你研究可能會用到的圖。
- 一些靈感：
  - 不同科別的住院天數比較
  - 年齡分佈
  - 某個數值隨時間的變化
- ⏱️ 10 分鐘

---

# ☕ 休息 10 分鐘

---

# 第五部分：統計檢定（30 分鐘）

## 任務 20 — 讓 AI 選擇統計方法

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我想要比較兩組病人（treatment A vs B）的住院天數（los）有沒有顯著差異。我的資料存在 `my_data` 裡面。

請幫我：

1. 判斷應該用什麼統計方法（為什麼）
2. 給我執行這個檢定的 R 程式碼
3. 告訴我怎麼解讀結果

## 任務 21 — 解讀你的結果

- 📋 **把統計檢定的輸出複製起來，加上這段話貼給 AI：**

**Prompt**

這是我的統計檢定結果：
【貼上輸出】

請用白話文解釋這個結果，包括：

1. 兩組有沒有顯著差異
2. p-value 是什麼意思
3. 這個結果在臨床上可能代表什麼

## 任務 22 — 檢查假設

- 📋 **複製這段話，貼給 AI：**

**Prompt**

剛剛的統計檢定有什麼前提假設？我要怎麼用 R 檢查我的資料有沒有符合這些假設？如果不符合，有什麼替代方法？

## 任務 23 — 類別變數的比較

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我想要看 treatment（A vs B）和 gender（M vs F）有沒有關聯。也就是說，A 組和 B 組的男女比例有沒有不同。

請給我適當的統計檢定程式碼，並教我怎麼解讀。

---

# 第六部分：整合與收尾（20 分鐘）

## 任務 24 — 完整的分析流程

- 📋 **複製這段話，貼給 AI：**

**Prompt**

請幫我寫一個完整的 R script，從頭到尾做完以下分析：

1. 讀取 patient_data.csv
2. 用 gtsummary 產出 Table 1（依照 treatment 分組，含 p-value）
3. 用 ggplot2 畫一個比較兩組 los 的盒狀圖
4. 做統計檢定比較兩組 los
5. 把表格存成 Word 檔、圖存成 PNG 檔

請把程式碼整理成一個可以從頭跑到尾的 script，並加上註解說明每一步在做什麼。

## 任務 25 — 做成你的範本

- 📋 **複製這段話，貼給 AI：**

**Prompt**

請把剛剛的 script 改成一個「範本」，把檔案名稱、分組變數、要分析的變數都用清楚的變數名稱標示在最上面，這樣我以後只要改最上面的設定，就可以套用到不同的資料。

## 任務 26 — 當你離開這個教室之後

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我是一個剛學 R 的醫護人員，主要想用 R 做臨床研究的統計分析。請推薦我：

1. 3 個最值得學的 R 技能（以我的需求來說）
2. 2 個適合初學者的免費學習資源
3. 當我遇到問題時，除了問你之外，還可以去哪裡找答案

## 今天你學會的超能力

- ✅ 把問題描述清楚，讓 AI 幫你寫程式
- ✅ 看懂 AI 給的程式碼大概在做什麼
- ✅ 當程式出錯，知道怎麼問 AI 修正
- ✅ 產出可以放進論文的表格和圖表
- ✅ 有一個可以重複使用的分析範本
- **你不需要記住任何語法。**

## 最後一個任務

- 📋 **複製這段話，貼給 AI：**

**Prompt**

我今天學了用 AI 輔助寫 R 程式做統計分析。請給我 3 個建議，幫助我在接下來幾週內持續練習，讓這個技能變得更熟練。

## 謝謝大家

- Q&A 時間
- 📧 【你的聯絡資訊】
- 📁 今天的資料和範本：【連結】

---

# 附錄：給講師的備註

## 這個模式的關鍵成功因素

- **確保網路順暢**：每個人都要能連到 ChatGPT 或 Claude
- **不要搶答**：讓學員自己問 AI、自己看答案、自己嘗試
- **你的角色是引導**：幫忙解決 AI 回答不清楚的地方、處理環境問題
- **慶祝每一次成功**：「你的圖出來了嗎？太棒了！」
- **錯誤是學習機會**：「來，把錯誤訊息貼給 AI，看它怎麼說」

## 時間彈性處理

- 如果大家進度快：讓他們自由探索、問更多問題
- 如果大家進度慢：可以跳過部分「客製化」的任務，專注核心流程

## 課前提醒學員

- 請先註冊好 ChatGPT 或 Claude 帳號
- 請先安裝好 R 和 RStudio / Antigravity
- 帶著一個「你真的想分析的問題」來上課
